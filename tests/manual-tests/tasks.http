# users API

###
# baseURL
@baseURL = http://localhost:5000

# Not sure why the VSCode REST Client wont save the cookie automatically
@cookie = Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiZTBiMzg1NTItZmEwNy00ZTljLWI0YWUtY2IwMWY0Yzk3MTQ1IiwiZW1haWwiOiJleGFtcGxlQGdtYWlsLmNvbSIsImlhdCI6MTYxNTc0NDM5MiwiZXhwIjoxNjE1NzQ3OTkyfQ.GE7u3BRueG-4Sp9vcOOMHlEje57wAQBfQIGGHaqxfno; HttpOnly; Max-Age=3600; SameSite=False; Path=/,Refresh=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1dWlkIjoiZTBiMzg1NTItZmEwNy00ZTljLWI0YWUtY2IwMWY0Yzk3MTQ1IiwiZW1haWwiOiJleGFtcGxlQGdtYWlsLmNvbSIsImlhdCI6MTYxNTc0NDM5MiwiZXhwIjoxNjE2MzQ5MTkyfQ.M9SoXOji2T2rFJ6fPAMEmF_ze34BKKhSMeoBHouHjEo; HttpOnly; Max-Age=604800; SameSite=False;

###
# Login
POST {{baseURL}}/auth/login
Content-Type: application/json

{
    "email": "example@gmail.com",
	"password": "qwer1234"
}

###
# Get All User's Task
GET {{baseURL}}/tasks
Cookie: {{cookie}}

###
# Get All User's Tasks for Today
GET {{baseURL}}/tasks/today
Cookie: {{cookie}}

###
# Find Task By Id
GET {{baseURL}}/tasks/5e219547-2a40-4d83-b193-05386a673e1f
Cookie: {{cookie}}

###
# Add Task
POST {{baseURL}}/tasks
Content-Type: application/json
Cookie: {{cookie}}

{ 
    "task": 
    {
        "title": "T1",
        "userWeight": 50,
        "isDeferred": true,
        "repeatFloor": 2,
        "repeatCeiling": 2,
        "deferredUntilDt": "2021-04-03T01:12:40.208Z"
    }
}

# {
#     "title": "Update something else",
#     "userWeight": 50,
#     "computedWeight": 60,
#     "isDeferred": true,
#     "repeatFloor": 2,
#     "repeatCeiling": 2,
#     "lastCompletedDt": "2021-01-31T00:00:00.000Z",
#     "lastDeferredDt": "2021-02-03T01:12:40.208Z"
# }


###
# Delete Task
DELETE {{baseURL}}/tasks/a7554683-b8a3-47b9-8ecd-7c89732660e8
Cookie: {{cookie}}


###
# Update Task
PUT {{baseURL}}/tasks/7c6b034d-0566-4d58-bd2c-1922ed036227
Content-Type: application/json
Cookie: {{cookie}}

{
    "taskId": "7c6b034d-0566-4d58-bd2c-1922ed036227",
    "title": "Update something else",
    "userWeight": 50,
    "computedWeight": 60,
    "isDeferred": true,
    "repeatFloor": 2,
    "repeatCeiling": 2,
    "lastCompletedDt": "2021-01-31T00:00:00.000Z",
    "lastDeferredDt": "2021-02-03T01:12:40.208Z"
}

###
# Defer Task
PUT {{baseURL}}/tasks/defer/7c6b034d-0566-4d58-bd2c-1922ed036227
Content-Type: application/json
Cookie: {{cookie}}


###
# Complete Task
PUT {{baseURL}}/tasks/complete/7c6b034d-0566-4d58-bd2c-1922ed036227
Cookie: {{cookie}}

